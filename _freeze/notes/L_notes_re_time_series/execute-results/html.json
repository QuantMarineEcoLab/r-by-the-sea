{
  "hash": "01032f24a4b8b6b483f3fcfdb889f577",
  "result": {
    "markdown": "---\ntitle: 'Some Notes about Time Series'\nauthor: \"EMW\" \ndate: \"Wed, June 12, 2024\"\nformat:\n  html:\n    toc: true\n    code-overflow: wrap\n    code-fold: false\n    embed-resources: true\nexecute: \n  message: FALSE\n  warning: FALSE\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n#load packages\nlibrary(tidyverse)\nlibrary(lubridate)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#load data\npower <- read.csv(\"../data/power.csv\")\n```\n:::\n\n\n\\clearpage\n\n# Date Formats are IMPORTANT\n\n\n::: {.cell layout-ncol=\"2\"}\n\n```{.r .cell-code}\n# Time Series when Date is still a \"chr\" value\nggplot(power, aes(x=Date, y=power_kW)) + \n  geom_line() + \n  ggtitle(\"Date not in date format (still chr)\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Transform Date to Date Format\npower <- power %>% \n  mutate(Date = mdy_hm(Date))\n\n#Recreate the Time Series\nggplot(power, aes(x=Date, y=power_kW)) + \n  geom_line() + \n  ggtitle(\"Date in Date Format\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n:::\n\n\n\n# Should we summarize the data? How? \n\n\n::: {.cell layout-ncol=\"3\"}\n\n```{.r .cell-code}\n#No summary\npower %>% \n  ggplot(aes(x=Date, y=power_kW)) + \n  geom_line() + \n  ggtitle(\"By minute: no summarizing\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\npower %>% \n  mutate(Date_round = floor_date(Date, unit=\"day\")) %>% \n  ggplot(aes(x=Date_round, y=power_kW)) +\n  geom_point() + \n  ggtitle(\"By date: all minute data kept (points) :(\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n\n```{.r .cell-code}\npower %>% \n  mutate(Date_round = floor_date(Date, unit=\"day\")) %>% \n  ggplot(aes(x=Date_round, y=power_kW)) +\n  geom_line() + \n  ggtitle(\"By date: all minute data kept (lines) :(\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-4-3.png){width=672}\n:::\n:::\n\n\n\n# Over what time period should we summarize? \n\n\n::: {.cell layout-ncol=\"3\"}\n\n```{.r .cell-code}\n# Keep in Minutes\npower %>% \n  ggplot(aes(x=Date, y=power_kW)) + \n  geom_line() + \n  ggtitle(\"By minute\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Sum by Hour\npower %>% \n  mutate(Year = year(Date), Month = month(Date), Day = day(Date), Hour=hour(Date)) %>% \n  group_by(Year, Month, Day, Hour) %>% \n  summarize(Total_power_kw = sum(power_kW)) %>% \n  mutate(Date_round = make_datetime(year=Year, month=Month, day=Day, hour=Hour)) %>% \n  ggplot(aes(x=Date_round, y=Total_power_kw)) +\n  geom_line() + \n  ggtitle(\"By hour: summarize by adding\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# Sum by Day\npower %>% \n  mutate(Year = year(Date), Month = month(Date), Day = day(Date)) %>% \n  group_by(Year, Month, Day) %>% \n  summarize(Total_power_kw = sum(power_kW)) %>% \n  mutate(Date_round = make_date(year=Year, month=Month, day =Day)) %>% \n  ggplot(aes(x=Date_round, y=Total_power_kw)) +\n  geom_line() + \n  ggtitle(\"By date: summarize by adding\")\n```\n\n::: {.cell-output-display}\n![](L_notes_re_time_series_files/figure-html/unnamed-chunk-5-3.png){width=672}\n:::\n:::\n",
    "supporting": [
      "L_notes_re_time_series_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}